(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b1aa9cd"],{"02f4f":function(t,e,a){"use strict";a("6fdd")},"0d32":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("HeaderBox",{attrs:{"token-info":t.tokenInfo}}),a("div",{staticClass:"infoBox"},[a("div",{staticClass:"itemBox"},[a("div",{staticClass:"item item1"},[a("span",{staticClass:"label"},[t._v("Total Liquidity")]),a("span",{staticClass:"value"},[t._v(t._s(t._f("toThousandFilter")(t._f("autoFixed")(111111))))]),a("span",{staticClass:"rate"},[t._v("11")])]),a("div",{staticClass:"item item2"},[a("span",{staticClass:"label"},[t._v("Volume (24hrs)")]),a("span",{staticClass:"value"},[t._v(t._s(t._f("toThousandFilter")(t._f("autoFixed")(t.tokenInfo.volume_24hour))))]),a("span",{staticClass:"rate"},[t._v("11")])]),a("div",{staticClass:"item item3"},[a("span",{staticClass:"label"},[t._v("Transactions (24hrs)")]),a("span",{staticClass:"value"},[t._v(t._s(t._f("toThousandFilter")(t._f("autoFixed")(t.tokenInfo.transactions_24hours))))])])]),a("div",{staticClass:"chart"},[a("el-radio-group",{staticClass:"klineTimeType",model:{value:t.klineTimeType,callback:function(e){t.klineTimeType=e},expression:"klineTimeType"}},t._l(t.timeRangeList,(function(e){return a("el-radio-button",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.label))])})),1),a("Chart",{ref:"Chart",staticClass:"chart"})],1)]),a("div",{staticClass:"section"},[t._m(0),a("div",{staticClass:"table"},[a("TopPairs")],1)]),a("div",{staticClass:"section"},[t._m(1),a("div",{staticClass:"table"},[a("Transactions")],1)]),a("div",{staticClass:"section"},[t._m(2),a("TokenInformation",{attrs:{"token-info":t.tokenInfo}})],1)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[a("span",[t._v("Top Pairs")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[a("span",[t._v("Transactions")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",[a("span",[t._v("Token Information")])])}],i=a("60b5"),o=a("6abc"),l=(a("6a61"),a("4194"),a("2eeb"),a("b4fb"),a("52c1")),r=a("b40e"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{directives:[{name:"el-table-infinite-scroll",rawName:"v-el-table-infinite-scroll",value:t.onPageLoad,expression:"onPageLoad"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:t.pageList,"empty-text":t.$t("common.noData"),height:t.tableHeight}},[a("el-table-column",{attrs:{label:"Name",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row,s=e.$index;return[a("a",{staticClass:"name",attrs:{href:"/defi/pair?address="+n.pair,target:"_blank"}},[a("span",{staticClass:"index"},[t._v(t._s(s+1))]),a("div",{staticClass:"imgBox"},[a("el-image",{staticClass:"img img1",attrs:{src:t.$utils.getTokenLogo(n.token1)}},[a("div",{staticClass:"img-err",attrs:{slot:"error"},slot:"error"},[a("img",{staticClass:"img",attrs:{src:t.$utils.tokenLogoErrImg}})])]),a("el-image",{staticClass:"img img2",attrs:{src:t.$utils.getTokenLogo(n.token2)}},[a("div",{staticClass:"img-err",attrs:{slot:"error"},slot:"error"},[a("img",{staticClass:"img",attrs:{src:t.$utils.tokenLogoErrImg}})])])],1),a("span",{staticClass:"pairs"},[t._v(t._s(n.token1_symbol)+"-"+t._s(n.token2_symbol))])])]}}])}),a("el-table-column",{attrs:{label:"Liquidity Amount",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t._f("autoFixed")(a.liquidity1))+" "+t._s(a.token1_symbol)+" ")]}}])}),a("el-table-column",{attrs:{label:"Liquidity Amount",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t._f("autoFixed")(a.liquidity2))+" "+t._s(a.token2_symbol)+" ")]}}])}),a("div",{staticStyle:{"text-align":"center"},attrs:{slot:"append"},slot:"append"},[t.loading||0===t.pageList.length?a("Loading"):t._e()],1)],1)},u=[],d=(a("77ad"),a("781b")),f={components:{Loading:d["a"]},props:{},data:function(){return{page:0,page_size:60,loading:!0,list:[],tableHeight:300}},computed:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["account","isPc"])),{},{pageList:function(){return this.list.slice(0,this.page_size*this.page)}}),watch:{pageList:function(t){this.loading=!(this.page_size*this.page>t.length)}},created:function(){this.getData()},mounted:function(){},methods:{getData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n,s,i,l,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.query.address,e.next=3,t.$api.getTokenPairs(a);case 3:n=e.sent,s=n.data,i=s.list,l=s.tokens,r=i.map((function(t){var e=Object(o["a"])(Object(o["a"])({},t),{},{token1_symbol:l[t.token1].symbol,token2_symbol:l[t.token2].symbol});return e})),t.list=r,console.log(r,"res toppairs"),console.log(l,"tokens");case 9:case"end":return e.stop()}}),e)})))()},onPageLoad:function(){this.loading&&(this.page++,console.log(this.page,"this.page"))}}},m=f,p=(a("93e8"),a("5d22")),h=Object(p["a"])(m,c,u,!1,null,"ba484612",null),g=h.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{directives:[{name:"el-table-infinite-scroll",rawName:"v-el-table-infinite-scroll",value:t.onPageLoad,expression:"onPageLoad"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:t.list,"empty-text":t.$t("common.noData"),height:t.tableHeight}},[a("el-table-column",{attrs:{width:"180"},scopedSlots:t._u([{key:"header",fn:function(){return[a("ul",{staticClass:"tableSelectTypeList"},t._l(t.tableSelectTypeList,(function(e){return a("li",{key:e.value,class:{on:e.value===t.tableSelectType},on:{click:function(a){return t.onChangeTransaction(e.value)}}},[t._v(t._s(e.label))])})),0)]},proxy:!0},{key:"default",fn:function(e){var n=e.row;return[a("a",{staticClass:"name",attrs:{href:t.$utils.getTxLink(n.transaction_hash),target:"_blank"}},[1===n.type||2===n.type?[t._v(t._s("Swap "+n.token1_symbol+" for "+n.token2_symbol))]:3===n.type?[t._v(t._s("Add "+n.token1_symbol+" and "+n.token2_symbol))]:4===n.type?[t._v(t._s("Remove "+n.token1_symbol+" and "+n.token2_symbol))]:t._e()],2)]}}])}),a("el-table-column",{attrs:{label:"Total Value",align:"center",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" $"+t._s(t._f("autoFixed")(a.price*a.amount1))+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"Token Amount"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(t._f("autoFixed")(n.amount1))+" "),a("a",{attrs:{href:"/defi/token?address=",target:"_blank"}},[t._v(t._s(n.token1_symbol))])]}}])}),a("el-table-column",{attrs:{label:"Token Amount",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(t._f("autoFixed")(n.amount2))+" "),a("a",{attrs:{href:"/defi/token?address=",target:"_blank"}},[t._v(t._s(n.token2_symbol))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"Account"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("a",{attrs:{href:t.$utils.getAddressLink(n.from),target:"_blank"}},[t._v(" "+t._s(t._f("miniAddress")(n.from)))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"Time"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t._f("formatTime")(a.timestamp))+" ")]}}])}),a("div",{staticStyle:{"text-align":"center"},attrs:{slot:"append"},slot:"append"},[t.loading?a("Loading"):t._e()],1)],1)},b=[],_={components:{Loading:d["a"]},props:{},data:function(){return{address:"",page:1,page_size:20,loading:!0,tableSelectType:0,tableSelectTypeList:[{value:0,label:"All"},{value:1,label:"Swap"},{value:3,label:"Add"},{value:4,label:"Remove"}],list:[],tableHeight:300}},computed:Object(o["a"])({},Object(l["b"])(["isPc"])),watch:{},created:function(){var t=this.$route.query.address;this.address=t,this.getData()},mounted:function(){},methods:{onChangeTransaction:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.tableSelectType=t,e.$forceUpdate(),console.log("type",t),e.getData();case 4:case"end":return a.stop()}}),a)})))()},getData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n,s,i,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.list=[],e.next=4,t.$api.getTokenSwapList({address:t.address,type:t.tableSelectType,page_size:100});case 4:a=e.sent,n=a.data,s=n.list,i=n.tokens,l=n.pairs,t.list=s.map((function(t){var e=l[t.pair_id].token1,a=l[t.pair_id].token2,n=Object(o["a"])(Object(o["a"])({},t),{},{token1_symbol:i[e].symbol,token2_symbol:i[a].symbol});return n})),t.loading=!1,console.log(t.list,"this.list");case 9:case"end":return e.stop()}}),e)})))()},onPageLoad:function(){console.log("onPageLoad")}}},k=_,y=(a("423d"),Object(p["a"])(k,v,b,!1,null,"ac7ae940",null)),C=y.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"chart"}})},x=[],T=a("dac0"),L={data:function(){return{chartExample:null}},mounted:function(){},methods:{onResizeHandler:function(){var t=this;console.log("onResizeHandleronResizeHandleronResizeHandleronResizeHandleronResizeHandleronResizeHandler");var e,a=document.getElementById("chart");e&&clearTimeout(e),e=setTimeout((function(){t.chartExample.resize(a.offsetWidth,a.offsetHeight)}),200)},init:function(t){var e=this,a=t.chartData,n=void 0===a?[]:a;console.log("chartDatachartDatachartDatachartData",n);var s,i=document.getElementById("chart"),o=document.createElement("div");i.appendChild(o),this.chartExample=Object(T["a"])(o,{localization:{dateFormat:"yyyy-MM-dd"},rightPriceScale:{visible:!0},leftPriceScale:{visible:!0},timeScale:{borderVisible:!0,visible:!0},layout:{backgroundColor:"#23232F",textColor:"rgba(255, 255, 255, 0.5)"},grid:{horzLines:{color:"rgba(255, 255, 255, 0.05)",visible:!0},vertLines:{color:"#f99",visible:!1}},crosshair:{vertLine:{labelVisible:!0}}}),this.chartExample.resize(i.offsetWidth,i.offsetHeight),document.body.onresize=function(){s&&clearTimeout(s),s=setTimeout((function(){e.chartExample.resize(i.offsetWidth,i.offsetHeight)}),100)};var l=this.chartExample.addCandlestickSeries({upColor:"#4AB167",borderUpColor:"#4AB167",downColor:"#FF4248",borderDownColor:"#FF4248"});l.setData([{time:"2018-12-19",open:141.77,high:170.39,low:120.25,close:145.72},{time:"2018-12-20",open:145.72,high:147.99,low:100.11,close:108.19},{time:"2018-12-21",open:108.19,high:118.43,low:74.22,close:75.16},{time:"2018-12-22",open:75.16,high:82.84,low:36.16,close:45.72},{time:"2018-12-23",open:45.12,high:53.9,low:45.12,close:48.09},{time:"2018-12-24",open:60.71,high:60.71,low:53.39,close:59.29},{time:"2018-12-25",open:68.26,high:68.26,low:59.04,close:60.5},{time:"2018-12-26",open:67.71,high:105.85,low:66.67,close:91.04},{time:"2018-12-27",open:91.04,high:121.4,low:82.7,close:111.4},{time:"2018-12-28",open:111.51,high:142.83,low:103.34,close:131.25},{time:"2018-12-29",open:131.33,high:151.17,low:77.68,close:96.43},{time:"2018-12-30",open:106.33,high:110.2,low:90.39,close:98.1},{time:"2018-12-31",open:109.87,high:114.69,low:85.66,close:111.26}]);var r=80,c=80,u=15,d=document.createElement("div");d.className="floating-tooltip-2",o.appendChild(d),this.chartExample.subscribeCrosshairMove((function(t){if(void 0===t.point||!t.time||t.point.x<0||t.point.x>o.clientWidth||t.point.y<0||t.point.y>o.clientHeight)d.style.display="none";else{d.style.display="block";var e=t.seriesPrices.get(l);d.innerHTML='\n            <div style="font-size: 14px;line-height: 22px;">\n              <p>最高：'.concat(e.high,"</p>\n              <p>最低：").concat(e.low,"</p>\n              <p>开盘：").concat(e.open,"</p>\n              <p>收盘：").concat(e.close,"</p>\n            </div>\n          ");var a=l.priceToCoordinate(e),n=t.point.x-50;if(null===a)return;n=Math.max(0,Math.min(o.clientWidth-r,n));var s=a-c-u>0?a-c-u:Math.max(0,Math.min(o.clientHeight-c-u,a+u));d.style.left=n+"px",d.style.top=s+"px"}}))}}},S=L,$=(a("1005"),Object(p["a"])(S,w,x,!1,null,null,null)),O=$.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"headerBox"},[a("p",{staticClass:"tokens"},[a("span",[t._v("Tokens")]),a("span",[t._v(" → ")]),a("span",{staticClass:"symbol"},[t._v(t._s(t.tokenInfo.symbol))]),a("span",{staticClass:"address"},[t._v("("+t._s(t.tokenInfo.address)+")")])]),a("h1",[a("el-image",{staticClass:"img",attrs:{src:t.$utils.getTokenLogo(t.tokenInfo.address)}},[a("div",{staticClass:"img-err",attrs:{slot:"error"},slot:"error"},[a("img",{staticClass:"img",attrs:{src:t.$utils.tokenLogoErrImg}})])]),a("span",[t._v(t._s(t.tokenInfo.name)+" ("+t._s(t.tokenInfo.symbol)+") ")]),a("span",{staticClass:"price"},[t._v("$"+t._s(111.11))]),a("span",{staticClass:"rate"},[t._v("-0.53%")])],1),a("div",{staticClass:"btnBox"},[a("a",{attrs:{href:t.$utils.getAddLiquidityLink(t.tokenInfo.address),target:"_blank"}},[a("el-button",{staticClass:"btn btn1",attrs:{type:"primary",icon:"el-icon-plus",plain:"",size:"mini"}},[t._v("Add Liquidity")])],1),a("a",{attrs:{href:t.$utils.getTradeLink(t.tokenInfo.address),target:"_blank"}},[a("el-button",{staticClass:"btn btn2",attrs:{type:"primary",size:"mini"}},[t._v("Trade")])],1)])])},I=[],E={components:{},props:{tokenInfo:{type:Object,require:!0}},data:function(){return{}},mounted:function(){},methods:{}},R=E,D=(a("1d7f"),Object(p["a"])(R,j,I,!1,null,"78e12f6a",null)),z=D.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"information",attrs:{gutter:10,justify:"center"}},[a("el-col",{attrs:{xs:12,span:4}},[a("div",{staticClass:"info"},[a("span",{staticClass:"label"},[t._v("Tokens")]),a("span",{staticClass:"value"},[t._v(t._s(t.tokenInfo.symbol)+" ")])])]),a("el-col",{attrs:{xs:12,span:4}},[a("div",{staticClass:"info"},[a("span",{staticClass:"label"},[t._v("Name")]),a("span",{staticClass:"value"},[t._v(t._s(t.tokenInfo.name))])])]),a("el-col",{attrs:{xs:12,span:4}},[a("div",{staticClass:"info"},[a("span",{staticClass:"label"},[t._v("Address")]),a("span",{staticClass:"value"},[a("a",{attrs:{href:t.$utils.getAddressLink(t.tokenInfo.address),target:"_blank"}},[t._v(" "+t._s(t._f("miniAddress")(t.tokenInfo.address)))]),a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.tokenInfo.address,expression:"tokenInfo.address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopySuccess,expression:"onCopySuccess",arg:"success"}],staticStyle:{padding:"0"},attrs:{type:"text"}},[a("svg-icon",{staticClass:"copy",attrs:{"icon-class":"copy"}})],1)],1)])]),a("el-col",{staticClass:"btnBox",attrs:{xs:12,span:12,align:"right"}},[a("a",{attrs:{href:t.$utils.getAddressLink(t.tokenInfo.address),target:"_blank"}},[a("el-button",{attrs:{type:"primary",size:"large"}},[t._v("View on BlockScan")])],1)])],1)},H=[],A={components:{},props:{tokenInfo:{type:Object,require:!0}},inject:["onCopySuccess"],data:function(){return{}},mounted:function(){},methods:{}},F=A,q=(a("02f4f"),Object(p["a"])(F,P,H,!1,null,"3cbacd6f",null)),B=q.exports,M={name:"Token",components:{HeaderBox:z,TopPairs:g,Transactions:C,Chart:O,TokenInformation:B},inject:["onCopySuccess"],data:function(){return{ws:null,tokenInfo:{id:1424,from:"0xefc4b31e5d8323bd62eff68ad1e275700642c53f",name:"MMC name",symbol:"MMC",total_supply:21e6,decimals:18,address:"0x0ac27602e8317c5fd7af08f20ae47a8eff9d5a75",timestamp:1619069676,volume_24hour:"98.71580547",transactions_24hours:2},timeRangeList:[],klineTimeType:"1day",defaultTime:{},klineData:[],lineChartData:[],price:""}},computed:Object(o["a"])({},Object(l["b"])(["isPc"])),watch:{klineTimeType:function(t){var e=this.timeRangeList.find((function(e){return e.value===t}));console.log(e),this.defaultTime=e},klineData:function(t){var e=JSON.parse(JSON.stringify(t));e.length>0&&(this.price=e[e.length-1].close),this.lineChartData=this.handleKlineChartData(e),this.$refs.Chart.init(this.lineChartData)}},created:function(){this.timeRangeList=r["c"],this.defaultTime=r["c"].find((function(t){return"1day"===t.value}))},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.query.address,e.next=3,t.$api.getTokenInfo(a);case 3:n=e.sent,s=n.data,console.log(s),t.tokenInfo=s,t.klineData=[{id:1617875605,time:1617875605,open:12e-6,close:23e-6,low:23e-6,high:25e-6,amount:233,vol:123,count:12}];case 8:case"end":return e.stop()}}),e)})))()},methods:{getPair:function(){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},handleKlineChartData:function(t){var e=this,a=r["b"][this.defaultTime.value],n=t.map((function(t){return{open:t.open,close:t.close,low:t.low,high:t.high,time:e.$moment(1e3*t.id).format(a),id:t.id}}));return console.log(n,"list"),n},wsSend:function(t){console.log(t),this.ws.send(JSON.stringify(t))},getKlineReqParams:function(){return{req:"market.".concat(this.pair,".kline.").concat(this.defaultTime.value),from:Math.round((new Date).getTime()/1e3)-60*this.defaultTime.time,to:Math.round((new Date).getTime()/1e3),id:1}},onConnectWebSocket:function(){var t=this;this.ws=new WebSocket(this.$utils.getWsUrl()),this.ws.onopen=function(){t.wsSend(t.getKlineReqParams()),t.wsSend({sub:"market.".concat(t.pair,".kline.").concat(t.defaultTime.value)})},this.ws.onmessage=function(t){var e=JSON.parse(t.data);console.log(e)},this.ws.onclose=function(){console.log("connection closed")}}}},N=M,W=(a("9351"),Object(p["a"])(N,n,s,!1,null,"356916a0",null));e["default"]=W.exports},1005:function(t,e,a){"use strict";a("6c17")},"11ba":function(t,e,a){},"1d7f":function(t,e,a){"use strict";a("e28e")},"27d3":function(t,e,a){"use strict";a("11ba")},"423d":function(t,e,a){"use strict";a("9951")},"6c17":function(t,e,a){},"6fdd":function(t,e,a){},"781b":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loadingBox"},[a("div",{staticClass:"loading"},[a("div"),a("div"),a("div"),a("div")])])}],i=a("6abc"),o=a("52c1"),l={components:{},data:function(){return{}},computed:Object(i["a"])({},Object(o["b"])(["isConnect","account","isPc","language"])),created:function(){},mounted:function(){},methods:{}},r=l,c=(a("27d3"),a("5d22")),u=Object(c["a"])(r,n,s,!1,null,"298ae9f9",null);e["a"]=u.exports},"8f51":function(t,e,a){},9351:function(t,e,a){"use strict";a("c0e8")},"93e8":function(t,e,a){"use strict";a("8f51")},9951:function(t,e,a){},c0e8:function(t,e,a){},e28e:function(t,e,a){}}]);